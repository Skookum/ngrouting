<!doctype html>
<html ng-app="dtv.demo.routes">
  <head>
    <title>State-Based Routing Demo</title>

    <style>

    </style>

  </head>
  <body ng-controller='RouteController'>

    <h1>Deep Linking Test Page</h1>
    <h2>(with modals)</h2>

    <section sdw-viewmodel='vm'>

      <ul>
        <li ng-show='vm.showModal'><a href='#'>Hide Modal</a></li>
        <li ng-hide='vm.showModal'><a href='#/movie/123'>Modal (Shawshank)</a></li>
        <li ng-hide='vm.showModal'><a href='#/movie/234'>Modal (Shawshank)</a></li>
        <li ng-hide='vm.showModal'><a href='#/movie/345'>Modal (Shawshank)</a></li>
      </ul>

      <section class='modal' ng-show='vm.showModal'>

        <ng-switch on='vm.modalView'>

          <article class='movie' ng-switch-when='movie'>
            <h2>Movie Modal</h2>
            <h3>{{ movieData().title }}</h3>
            <ul>
              <li><a href='#/celebrity/{{ movieData().celeb }}'>See Celebrity</a></li>
              <li><a href='#/movie/{{ vm.movieId }}/rent'>Rent this movie</a></li>
            </ul>
          </article>

          <article class='celebrity' ng-switch-when='celebrity'>
            <h2>Celebrity</h2>
            <h3>{{ celebData().name }}</h3>
            <p>(Now use the back button to get back)</p>
          </article>

          <article class='rent' ng-switch-when='rent'>
            <h2>Rent this movie:</h2>
            <h3>{{ movieData().title }}</h3>
            <button ng-click='onRent()'>Rent me</button>
          </article>

        </ng-switch>

      </section>

    </section>

    <!-- libs.js contains all of the concatenated third-party libraries -->
    <script type="text/javascript" src="assets/libs.js"></script>

    <!-- compiled, minified application code -->
    <script type="text/javascript" src="assets/<%= grunt.config.get('pkg.name') %>.js"></script>

  </body>
</html>
